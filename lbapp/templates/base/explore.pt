<metal:main use-macro="load: ../master.pt">
    <!-- Insere JavaScript -->
    <script metal:fill-slot="javascript" type="text/javascript" src=""></script>
    <div metal:fill-slot="conteudo" id="widgets">
        <div class="row-fluid">
            <div class="span12">
                <div id="base-explore"></div>
                <table id="rowed6"></table>
            </div>
        </div>
    </div>
</metal:main>
<script src="/static/js/lightbase/explorer.js"></script>
<script src="/static/ace-final/assets/js/jquery-ui-1.10.3.custom.min.js"></script>
<script src="/static/ace-final/assets/js/jquery.ui.touch-punch.min.js"></script>
<!--script src="/static/ace-final/assets/js/jquery.slimscroll.min.js"></script-->

<!--BOOTSRAP-EDITABLE STUFF-->
<link href="/static/bootstrap-editable-1.4.5/bootstrap-editable/css/bootstrap-editable.css" rel="stylesheet"/>
<link href="/static/bootstrap-editable-1.4.5/bootstrap-editable/img/clear.png" />
<link href="/static/bootstrap-editable-1.4.5/bootstrap-editable/img/loading.gif" />
<script src="/static/bootstrap-editable-1.4.5/bootstrap-editable/js/bootstrap-editable.min.js"></script>

<script src="/static/js/lightbase/jquery.jsonviewer.js"></script>

<script type="text/javascript">
    $(document).ready(function() {
        var test_object = {
            test_number: 1,
            test_string: "test string",
            test_string2: new String("another test string"),
             id: '{{index}}',
        guid: '{{guid}}',
        isActive: '{{bool}}',
        balance: '{{numeric(1000,4000,%=$0,0.00)}}',
        picture: 'http://placehold.it/32x32',
        age: '{{numeric(20,40)}}',
        name: '{{firstName}} {{surname}}',
        gender: '{{gender}}',
        company: '{{company}}',
        email: '{{email}}',
        phone: '+1 {{phone}}',
            test_date: new Date(),
            test_boolean: true,
            test_array: [1, 2, 3, 4, 5, 6],
            test_object: { something: 1, somethingelse: "2", another: 
            [{wow: {uau: 'edfewr', ipsi: 'mehhh'}, wow2: 'samle3'},
            {wow: ['sample1', 'sample2'], wow2: 'samle3'}],
            }
        }
        //$('#basic_usage').jsonviewer({ json_name: 'myobj', json_data: myobj });
        j = $('#base-explore').jsonviewer({ json_name: 'test', type_prefix: false, json_data: test_object });
        j.serialize();

        $.fn.editable.defaults.mode = 'inline';

        $('.editable').each(function() { 
            // Makes everyone editable
            $(this).editable({
                //url: '/post',
                //title: 'XXXXXXXX'
                //type: 'text',
                pk: 1,
                name: 'somename',
            });
        });

        $(function() {
        
            /*$('#explorer').sortable({
                connectWith: '#explorer',
                opacity:0.8,
                revert:true,
                forceHelperSize:true,
                placeholder: 'accordion-placeholder',
                forcePlaceholderSize:true,
                tolerance:'pointer'
            });*/
        
        });


        function switch_editable(id){
            $('.editable').each(function() { 
                $(this).editable('toggleDisabled');
            });
        }

        $('.editable').on('hidden', function(e, reason){
                if(reason === 'save' || reason === 'nochange') {
                    var next = $(this).parent('td').next().find('.editable');
                    next.editable('show');
                }
           });
    });


</script>


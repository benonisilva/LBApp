      <header>
        <link rel="stylesheet" href="../static/ace-final/assets/css/jquery-ui-1.10.3.custom.min.css" />
        <link rel="stylesheet" href="../static/ace-final/assets/css/chosen.css" />
        <link rel="stylesheet" href="../static/ace-final/assets/css/datepicker.css" />
        <link rel="stylesheet" href="../static/ace-final/assets/css/bootstrap-timepicker.css" />
        <link rel="stylesheet" href="../static/ace-final/assets/css/daterangepicker.css" />
      </header>
      <div class="page-content">
         <div class="row-fluid">
            <div class="span12">
               <!--PAGE CONTENT BEGINS-->
               <div class="row-fluid" id="all-form">
                  <div class="span12">
                     <div class="widget-box">
                        <div class="widget-body">
                           <div class="widget-main">
                              <div class="row-fluid">
                                 <div id="fuelux-wizard" class="row-fluid hide" data-target="#step-container">
                                 </div>
                                 <div class="step-content row-fluid position-relative" id="step-container">
                                    <div class="step-pane active" id="step1">
                                       <br>
                                       <br>
                                       <form class="form-horizontal" id="validation-form" method="get">
                                          <div class="control-group">
                                             <label class="control-label">Exportar Indice:</label>
                                             <div class="controls">
                                                <span class="span12">
                                                <label>
                                                <input name="index_export" id="index_export" class="ace-switch ace-switch-6" type="checkbox" />
                                                <span class="lbl"></span>
                                                </label>
                                                </span>
                                             </div>
                                          </div>
                                          <div id="control-group-URL">
                                             <div class="control-group">
                                                <label id="URL_label" class="control-label" for="URL">URL do indexador:</label>
                                                <div class="controls">
                                                   <span class="span12">
                                                   <input class="span6" type="text" id="URL_input" name="index_url" />
                                                   </span>
                                                </div>
                                             </div>
                                             <div class="control-group">
                                                <label class="control-label" for="name">Tempo de espera da indexação:</label>
                                                <div class="controls">
                                                   <span class="span12">
                                                      <input name="index_time" type="text" class="input-mini" id="spinner1" />
                                                      <div class="space-6"></div>
                                                   </span>
                                                </div>
                                             </div>
                                          </div>
                                          <div class="control-group">
                                             <label class="control-label">Extrair texto do documento:</label>
                                             <div class="controls">
                                                <span class="span12">
                                                <label>
                                                <input name="doc_extract" id="doc_extract" class="ace-switch ace-switch-6" type="checkbox" />
                                                <span class="lbl"></span>
                                                </label>
                                                </span>
                                             </div>
                                          </div>
                                          <div id="control-group-DOC">
                                             <div class="control-group">
                                                <label class="control-label" for="name">Tempo de espera da extração:</label>
                                                <div class="controls">
                                                   <span class="span12">
                                                      <input name="extract_time" type="text" class="input-mini" id="spinner2" />
                                                      <div class="space-6"></div>
                                                   </span>
                                                </div>
                                             </div>
                                          </div>
                                       </form>
                                    </div>
                                 </div>
                                 <div id="submit-buttons" class="row-fluid wizard-actions">
                                    <button id="button-prev" class="btn btn-primary">
                                    <i class="icon-arrow-left"></i>
                                    Cancelar
                                    </button>
                                    <button id="button-submit" class="btn btn-success" data-last="Finish">
                                    Próximo
                                    <i class="icon-arrow-right icon-on-right"></i>
                                    </button>
                                 </div>
                              </div>
                           </div>
                           <!--/widget-main-->
                        </div>
                        <!--/widget-body-->
                     </div>
                  </div>
               </div>
               <!-- <div id="modal-wizard" class="modal hide">
                  <div class="modal-footer wizard-actions">
                     <button class="btn btn-small btn-prev">
                     <i class="icon-arrow-left"></i>
                     Prev
                     </button>
                     <button class="btn btn-success btn-small" data-last="Finish ">
                     Next
                     <i class="icon-arrow-right icon-on-right"></i>
                     </button>
                     <button class="btn btn-danger btn-small pull-left" data-dismiss="modal">
                     <i class="icon-remove"></i>
                     Cancel
                     </button>
                  </div>
               </div> -->
               <!--PAGE CONTENT ENDS-->
            </div>
            <!--/.span-->
         </div>
         <!--/.row-fluid-->
      </div>
      <!--/.page-content-->
<script src="/static/js/ace/fuelux.wizard.min.js"></script>
<script src="/static/js/ace/jquery.validate.min.js"></script>
<!-- <script src="/static/js/lightbase/base_form.js"></script> -->
<!-- <script src="/static/js/lightbase/jquery.nestable.js"></script> -->
<!--<script src="/static/js/ace/additional-methods.min.js"></script>-->
<!-- <script src="/static/js/ace/bootbox.min.js"></script> -->
<!-- <script src="/static/js/lightbase/requisicaoajax.js"></script> -->

<!-- countings-->
<script src="/static/js/ace/jquery-ui-1.10.3.custom.min.js"></script>
<!-- <script src="/static/js/ace/chosen.jquery.min.js"></script> -->
<script src="/static/js/ace/fuelux.spinner.min.js"></script>
<!--<script src="/static/js/ace/jquery.autosize-min.js"></script>-->
<!--<script src="/static/js/ace/jquery.maskedinput.min.js"></script>-->
<script type="text/javascript">
   $(function() {
   
   
                $.validator.addMethod('alphanumeric', function (value, element) {
                    /*http://stackoverflow.com/questions/4977898/check-for-valid-sql-column-name*/
                    return /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(value);
                }, "Preencha com caracteres válidos");
                $.validator.addMethod('base_repetition', function (value, element) {
                    var base_names = JSON.parse($('#base_names').text()),
                        not_exists = true;
                    $.each(base_names, function(k, v){
                        if (v.nome_base == value){
                            not_exists = false;
                            return false;
                        }
                    });
                    return not_exists;
                }, "Esta base já existe.");
              basedata = new Object();
              var x = {   
        errorElement: 'span',
        errorClass: 'help-inline',
        focusInvalid: false,
        rules: {
            index_export: {
                            required: false
            },
            index_url: {
                            url: true,
                required: {
                                     depends: function(element){
                                                  var checked = false;
                                                  if ($("#index_export:checked").val() !== undefined){
                                                     checked = true
                                                  }
                                                  return checked
                                              }                                        
                            }
            },
            index_time: {
                            required: false
            },
            document_extract: {
                required: false
                
            },
            extraction_time: {
                required: false
            },
            state: {
                required: false
            },
            platform: {
                required: false
            },
            subscription: {
                required: false
            },
            gender: 'required',
            agree: 'required'
        },
   
        messages: {
            index_url: {
                required: "É necessario preencher o campo",
                url: "Digite uma URL válida"
            },
        },
   
        invalidHandler: function (event, validator) { //display error alert on form submit   
            $('.alert-error', $('.login-form')).show();
        },
   
        highlight: function (e) {
            $(e).closest('.control-group').removeClass('info').addClass('error');
        },
   
        success: function (e) {
            $(e).closest('.control-group').removeClass('error').addClass('info');
            $(e).remove();
        },
   
        errorPlacement: function (error, element) {
            if(element.is(':checkbox') || element.is(':radio')) {
                var controls = element.closest('.controls');
                if(controls.find(':checkbox,:radio').length > 1) controls.append(error);
                else error.insertAfter(element.nextAll('.lbl:eq(0)').eq(0));
            }
            else if(element.is('.chzn-select')) {
                error.insertAfter(element.siblings('[class*="chzn-container"]:eq(0)'));
            }
            else error.insertAfter(element);
        },
   
        submitHandler: function (form) {
        },
        invalidHandler: function (form) {
        }
                };
   
    $('[data-rel=tooltip]').tooltip();
   
   
    var $validation = true;
    $('#fuelux-wizard').ace_wizard().on('change' , function(e, info){
        if(info.step == 1 && $validation) {
            if(!$('#validation-form').valid()) return false;
        }
    }).on('stepclick', function(e){
        //return false;//prevent clicking on steps
    });
   
   
    $('#validation-form').show();
    $('#modal-wizard .modal-header').ace_wizard();
    $('#modal-wizard .wizard-actions .btn[data-dismiss=modal]').removeAttr('disabled');
                
                $("#control-group-URL").hide();
                $("#index_export").click(function(){
                    if ($("#index_export:checked").val() == undefined){
                        $("#control-group-URL").hide();
                    }else{
                        $("#control-group-URL").show();
                    }
                });
   
                $("#control-group-DOC").hide();
                $("#doc_extract").click(function(){
                    if ($("#doc_extract:checked").val() == undefined){
                        $("#control-group-DOC").hide();
                    }else{
                        $("#control-group-DOC").show();
                    }
                });
   
                var button = document.getElementById("button-submit");
                $("#button-submit").click(function(){
                    $('#validation-form').validate(x);
                });
   
                $("#button-prev").click(function(){
                    $("#div_config").dialog("close");
                });
   
                }); 
</script>

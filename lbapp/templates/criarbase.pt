<metal:main use-macro="load: acemaster.pt">

<script metal:fill-slot="javascript" type="text/javascript" src="static/codigo-nestable/Nestable/jquery.nestable.js"></script>

 <div metal:fill-slot="conteudo" id="widgets">

                                <!-- Linking CSS's -->
   <link href="static/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css">
   <link rel="stylesheet" type="text/css" href="static/nestable-theme/jquery.nestable.css">
                                <!-- END Linking CSS's -->



               <div class="row-fluid">
                  <div class="span12">
                     <h3>Saída Serializada</h3>
                     <textarea id="nestable-output" class="m-wrap span12"></textarea>
                  </div>
               </div>


               <div class="row-fluid">    <!-- nestablelist 1 and 2 -->
                  <div class="span6">
                     <div class="widget">
                        <div class="widget-title">
                           <h4><i class="icon-edit"></i> Campos e Grupos</h4>
                           <div class="tools">

                                <!-- Botão Criar -->

                              <button id="criarbase" type="button" class="btn btn-primary btn-small" data-loading-text="Loading...">+ 1</button>
                              <script src="static/botaocriarbase.js" type="text/javascript"></script>

                                <!-- Fim Botão -->

                              <a href="javascript:;" class="collapse"></a>
                              <a href="http://www.keenthemes.com/preview/conquer/ui_elements_nestable.html#widget-config" data-toggle="modal" class="config"></a>
                              <a href="javascript:;" class="reload"></a>
                              <a href="javascript:;" class="remove"></a>
                           </div>
                        </div>

<!--               organização das divs que o jquery.nestable.js usa                          -->

<!--<style type="text/css">
#div-to-scroll
{
position: fixed;
top: 10%;
right: 50%;
width: 85%;
height: 1%;
}

</style>-->



                        <div id="div-to-scroll" class="widget-body" style="height:425px; overflow:auto;">
                           <div class="dd" id="nestable">
                              <ol id="ol1" class="dd-list">
                              </ol>
                           </div>
                        </div>  <!-- fim widget-body -->
                     </div>
                  </div>

                  <div class="span6">
                     <div class="widget">
                        <div class="widget-title">
                           <h4><i class="icon-cog"></i> Propriedades</h4>
                           <div class="tools">
                              <a href="javascript:;" class="collapse"></a>
                              <a href="http://www.keenthemes.com/preview/conquer/ui_elements_nestable.html#widget-config" data-toggle="modal" class="config"></a>
                              <a href="javascript:;" class="reload"></a>
                              <a href="javascript:;" class="remove"></a>
                           </div>
                        </div>
                        <div id="infobase2" class="widget-body" style="height:350px;">

                    <!-- DADOS DA BASE VÃO AQUI -->

                <!--<form>
                  <fieldset>
                    <legend>Grupos</legend>
                    <label>Nome : 
                    <input type="text" placeholder="Nome Base">
                    </label>
                    <label>Descrição : 
                    <input type="text" placeholder="Descrição">
                    </label>
                    <label>
                    Multivalorado :
                    </label>
                    <label>
                    <input type="checkbox" value="option1">
                    <label>
                    <button type="submit" class="btn">Submit</button>
                  </fieldset>
                </form>-->



                        </div>
                     </div>
                  </div>





               </div>
            </div>
</metal:main>

   <script src="static/base_form.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function()
{

    var updateOutput = function(e, s)
    {

        console.log(e, s);
        var list   = e.length ? e : $(e.target),
            output = list.data('output');
        if (window.JSON) {
            output.val(window.JSON.stringify(list.nestable('serialize')));//, null, 2));
        } else {
            output.val('JSON browser support required for this demo.');
        }
    };

    // activate Nestable for list 1
    $('#nestable').nestable({
        group: 1
    })
    .on('change', updateOutput);
    
    // output initial serialised data
    updateOutput($('#nestable').data('output', $('#nestable-output')));

    $('#nestable-menu').on('click', function(e)
    {
        var target = $(e.target),
            action = target.data('action');
        if (action === 'expand-all') {
            $('.dd').nestable('expandAll');
        }
        if (action === 'collapse-all') {
            $('.dd').nestable('collapseAll');
        }
    });


});

</script>
                                                        <!-- Tabelas -->

   <script src="static/base_form.js" type="text/javascript"></script>
   <script src="static/base.js" type="text/javascript"></script>
   <script src="static/grupo.js" type="text/javascript"></script>
   <script src="static/campo.js" type="text/javascript"></script>
